[pytest]
# Make the in-repo source packages importable without installing the project.
# Several legacy modules (``echo_cascade``, ``echo_evolver`` and friends) live
# under ``packages/core/src``.  The default ``pythonpath`` only exposes the
# repository root which results in ``ModuleNotFoundError`` during collection.
# Adding the package directory keeps the tests hermetic while matching the
# layout expected by the packaging metadata.
pythonpath = . packages/core/src src
addopts = --ignore=vault_v1/tests --ignore=content_vault/tests --ignore=tests/test_atlas_cli.py
filterwarnings =
    # Third-party dependency warning emitted during websocket CLI flows. The
    # library is still in use throughout the suite, so silence the deprecation
    # noise to keep test output focused on actionable issues.
    ignore:.*websockets\.legacy.*:DeprecationWarning
